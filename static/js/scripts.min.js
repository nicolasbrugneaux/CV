!function(){var a,b,c,d,e,f,g,h,j,k;j=function(){return 1===$(".notifications").children().size()?$(".notifications").hide():$(".notifications").slideUp(0).slideDown(150).delay(5e3).slideUp(150)},k=void 0!==document.body.style.webkitPerspective||void 0!==document.body.style.MozPerspective,e=function(a){var b,c,d,e,f;if(k){for(c=document.querySelectorAll(a),f=[],d=0,e=c.length;e>d;d++)b=c[d],b.className&&b.className.match(/roll/g)?f.push(void 0):(b.className+=" roll",f.push(b.innerHTML='<span data-title="'+b.text+' ">'+b.innerHTML+"</span>"));return f}},d=0,a=function(){return $.ajax({url:"./database/posts.php",data:"",dataType:"json",success:function(a){var b,c,f,g,i;for(b="",c=g=0,i=a.length;i>g;c=++g)f=a[c],f===a[0]?b+="<div class='row'>						<div class='span12'>							<h2>"+f.title+"</a></h2>							<small><b>By "+f.author+" </b>, <i> "+f.created+"</i></small>							<br>							<div class='post'>								"+f.body+"							</div>							<div id='modal-"+f.id+"'class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>								<div class='modal-header'>									<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\xd7</button									<h3>"+f.title+"</h3>									<small><b>By "+f.author+" </b>, <i>"+f.created+"</i></small>									<br>								</div> <!-- .modal-header -->								<div class='modal-body'>									"+f.body+"								</div> <!-- .modal-body -->								<div class='modal-footer'>									<!-- FACEBOOK SHARE BUTTON -->									<a class='btn facebook'										href='http://www.facebook.com/sharer.php?s=100										&p[title]=\""+f.title.replace(/<[^>]*>/g,"")+'"										&p[summary]="'+$.trim(f.body.replace(/<[^>]*>/g,"")).substring(0,100).split(" ").slice(0,-1).join(" ")+('..."										&p[url]="http://nicolasbrugneaux.me/posts/?id='+f.id+"\"'										target='_blank'>										<span data-icon='&#xe164;'> </span> Share									</a>									<!-- TWEET BUTTON -->									<a class='btn twitter'										href='https://twitter.com/share										?url=\"http://nicolasbrugneaux.me/posts/?id="+f.id+'"										&via=nicolasbrugneaux.me										&text='+f.title+" -'										target='_blank'>										<span data-icon='&#xe169;'> </span> Tweet									</a>													<button class='btn' data-dismiss='modal' aria-hidden='true'>Close</button>								</div><!-- .modal-footer -->							</div><!-- #modal-id -->							<a href='#modal-"+f.id+"' role='button' class='btn btn-info' data-toggle='modal'>Share this post \xbb</a>						</div> <!-- .span12 -->					</div><!-- .row -->"):(b+=1===c%3?"<hr><div class='row previews'>":"",b+="<div class='span4'>							<h2>"+f.title+"</h2>							<small><b>By "+f.author+"</b>, <i>"+f.created+"</i></small>							<br>							<div class='post'>"+$.trim(f.body).substring(0,200).split(" ").slice(0,-1).join(" ")+("...</div>							<div id='modal-"+f.id+"'class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>								<div class='modal-header'>									<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\xd7</button>									<h3>"+f.title+"</h3>									<small><b>By "+f.author+"</b>, <i>"+f.created+"</i></small>									<br>								</div> <!-- .modal-header -->								<div class='modal-body'>									"+f.body+"								</div> <!-- .modal-body -->								<div class='modal-footer'>									<!-- FACEBOOK SHARE BUTTON -->									<a class='btn facebook'										href='http://www.facebook.com/sharer.php?s=100										&p[title]=\"")+f.title.replace(/<[^>]*>/g,"")+'"										&p[summary]="'+$.trim(f.body.replace(/<[^>]*>/g,"")).substring(0,100).split(" ").slice(0,-1).join(" ")+('..."										&p[url]="http://nicolasbrugneaux.me/posts/?id='+f.id+"\"'										target='_blank'>										<span data-icon='&#xe164;'> </span> Share									</a>									<!-- TWEET BUTTON -->									<a class='btn twitter'										href='https://twitter.com/share										?url=\"http://nicolasbrugneaux.me/posts/?id="+f.id+'"										&via=nicolasbrugneaux.me										&text='+f.title+" -'										target='_blank'>										<span data-icon='&#xe169;'> </span> Tweet									</a>													<button class='btn' data-dismiss='modal' aria-hidden='true'>Close</button>								</div><!-- .modal-footer -->							</div><!-- #modal-id -->							<a href='#modal-"+f.id+"' role='button' class='btn btn-info' data-toggle='modal'>Read More \xbb</a>						</div> <!-- .span4 -->"),b+=0===c%3||c===a.length-1?"</div><!-- .row -->":"");return $("#bar .progress .bar").width("100%"),window.setTimeout(function(){var c,f,g,i,j,k;if($(".blog .container").html(b),e(".container a.no-btn"),$("#bar .progress .bar").width("0%"),$("#btn").show(),$("#bar").hide(),""!==window.location.search)for(i=window.location.search.substring(1),g=i.split("&"),j=0,k=g.length;k>j;j++)f=g[j],c=g.split("="),"id"===c[0]&&$("#modal-"+c[1]).modal();return d=a.length,$("#btn .btn").click(function(){return h(d,3)})},1e3)},error:function(){return $("#bar .progress .bar").width("0%"),$("#bar .progress").addClass("progress-danger"),$(".notifications").append("<div class='alert alert-danger'>					<button class='close' type='button' data-dismiss='alert'>&times;</button>					<p>The last posts couldn't be loaded.</p>				</div>"),j()}})},h=function(a,b){return $("#btn .btn").attr("disabled","disabled"),$("#btn").hide(),$.ajax({url:"./database/posts.php?from="+a+"&howMany="+b,data:"",dataType:"json",success:function(a){var b,c,f,g,j;if(b="",!$.isEmptyObject(a)){for($("#bar").show(),c=g=0,j=a.length;j>g;c=++g)f=a[c],b+=1===c%3?"<hr><div class='row previews'>":"",b+="<div class='span4'>							<h2>"+f.title+"</h2>							<small><b>By "+f.author+"</b>, <i>"+f.created+"</i></small>							<br>							<div class='post'>"+$.trim(f.body).substring(0,200).split(" ").slice(0,-1).join(" ")+("...							</div>							<div id='modal-"+f.id+"'class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>								<div class='modal-header'>									<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\xd7</button>									<h3>"+f.title+"</h3>									<small><b>By "+f.author+"</b>, <i>"+f.created+"</i></small>									<br>								</div> <!-- .modal-header -->							<div class='modal-body'>								"+f.body+"							</div> <!-- .modal-body -->							<div class='modal-footer'>								<!-- FACEBOOK SHARE BUTTON -->								<a class='btn facebook'									href='http://www.facebook.com/sharer.php?s=100									&p[title]=\"")+f.title.replace(/<[^>]*>/g,"")(0/0+$.trim(f.body.replace(/<[^>]*>/g,"")).substring(0,100).split(" ").slice(0,-1).join(" ")+('..."									&p[url]="http://nicolasbrugneaux.me/posts/?id='+f.id+"\"'									target='_blank'>									<span data-icon='&#xe164;'> </span> Share								</a>								<!-- TWEET BUTTON -->								<a class='btn twitter'									href='https://twitter.com/share									?url=\"http://nicolasbrugneaux.me/posts/?id="+f.id+'"									&via=nicolasbrugneaux.me									&text='+f.title+" -'									target='_blank'>									<span data-icon='&#xe169;'> </span> Tweet								</a>											<button class='btn' data-dismiss='modal' aria-hidden='true'>Close</button>							</div><!-- .modal-footer -->						</div><!-- #modal-id -->						<a href='#modal-"+f.id+"' role='button' class='btn btn-info' data-toggle='modal'>Read More \xbb</a>					</div> <!-- .span4 -->")),b+=0===c%3||c===a.length-1?"</div><!-- .row -->":"";return $("#bar .progress .bar").width("100%"),window.setTimeout(function(){var c,f,g,j,k;if($(".blog .container").append(b),e(".container a.no-btn"),$("#btn").show(function(){return $("#btn .btn").removeAttr("disabled")}),$("#bar").hide(),$("#btn").show(),$("#bar .progress .bar").width("0%"),""!==window.location.search)for(g=window.location.search.substring(1),f=g.split("&"),j=0,k=f.length;k>j;j++)f=f[j],c=gy[i].split("="),"id"===c[0]&&$("#modal-"+c[1]).modal();return d=a.length+d,$("#btn .btn").click(function(){return h(d,3)})},1e3)}return 0===$("#notif-post").length?(b="<div id='notif-post' class='well well-small' style='text-align:center;'>								<button class='close' type='button' data-dismiss='alert'>&times;</button>								<p>No more posts to show.</p>							</div>",$(".blog .loaders").prepend(b),$("#bar").hide(),$("#btn").hide()):void 0},error:function(){return $("#bar .progress .bar").width("0%"),$("#bar .progress").addClass("progress-danger"),$(".notifications").append("<div class='alert alert-danger'>					<button class='close' type='button' data-dismiss='alert'>&times;</button>					<p>The last posts couldn't be loaded.</p>				</div>"),j()}})},c=0,g=["home","about","skills","contact","blog"],f=function(b,c){var d;return d="right"===b?"left":"right",$("#main-content").hide("slide",{direction:b},300,function(){return $("#main-content").load("pages/"+g[c]+".php",function(){return $("#main-content").show("slide",{direction:d},500),"blog"===window.location.hash.substring(1)&&a(),e("a.no-btn")})})},b=function(a){var b,d,e,h,i;if(b=$.inArray(a,g),b!==c){for(c>b?f("right",b):f("left",b),d=h=0,i=g.length;i>h;d=++h)e=g[d],d===b?$("#menu-"+e).parent().addClass("active"):$("#menu-"+e).parent().removeClass("active");return("skills"===a||"about"===a)&&$("#menu-about").parent().addClass("active"),c=b}},$(document).ready(function(){var d;return j(),d=$.inArray(""===window.location.hash.substring(1)?"home":window.location.hash.substring(1),g),$("#main-content").load((-1===d?"pages/home":"pages/"+g[d])+".php",function(){return e("a.no-btn"),"blog"===window.location.hash.substring(1)?a():void 0}),c=d,$(window).on("hashchange",function(){return $.inArray(window.location.hash.substring(1),g)>=0?b(window.location.hash.substring(1)):b("home")})})}.call(this);