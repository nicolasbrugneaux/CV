/*!
@author: nicolasbrugneaux.me
*/
function blogify(){$.ajax({url:"./database/posts.php",data:"",dataType:"json",success:function(a){for(var b="",c=0;c<a.length;c++)0==c?b+="<div class='row'><div class='span12'><h2>"+a[c].title+"</a></h2>"+"<small><b>By "+a[c].author+"</b>"+", <i>"+a[c].created+"</i></small><br>"+"<div class='post'>"+a[c].body+"</div>"+"<div id='modal-"+a[c].id+"'class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>"+"<div class='modal-header'>"+"<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\xd7</button>"+"<h3>"+a[c].title+"</h3>"+"<small><b>By "+a[c].author+"</b>"+", <i>"+a[c].created+"</i></small><br>"+"</div> <!-- .modal-header -->"+"<div class='modal-body'>"+a[c].body+"</div> <!-- .modal-body -->"+"<div class='modal-footer'>"+"<a class='btn facebook'"+"href='http://www.facebook.com/sharer.php?s=100"+"&p[title]="+a[c].title+"&p[summary]="+$.trim(a[c].body).substring(0,100).split(" ").slice(0,-1).join(" ")+"..."+"&p[url]="+"http://nicolasbrugneaux.me/posts/?id="+a[c].id+"'"+" target='_blank'>"+"<span data-icon='&#xe164;'> </span>"+" Share"+"</a>"+"<a class='btn twitter'"+"href='https://twitter.com/share"+"?url="+"http://nicolasbrugneaux.me/posts/?id="+a[c].id+"&via=nicolasbrugneaux.me"+"&text="+a[c].title+" -'"+" target='_blank'>"+"<span data-icon='&#xe169;'> </span> Tweet"+"</a>"+"<button class='btn' data-dismiss='modal' aria-hidden='true'>Close</button>"+"</div><!-- .modal-footer -->"+"</div><!-- #modal-id -->"+"<a href='#modal-"+a[c].id+"' role='button' class='btn btn-info' data-toggle='modal'>Share this post \xbb</a>"+"</div> <!-- .span12 -->"+"</div><!-- .row -->":(b+=1==c%3?"<hr><div class='row'>":"",b+="<div class='span4'><h2>"+a[c].title+"</h2>"+"<small><b>By "+a[c].author+"</b>"+", <i>"+a[c].created+"</i></small><br>"+"<div class='post'>"+$.trim(a[c].body).substring(0,100).split(" ").slice(0,-1).join(" ")+"..."+"</div>"+"<div id='modal-"+a[c].id+"'class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>"+"<div class='modal-header'>"+"<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\xd7</button>"+"<h3>"+a[c].title+"</h3>"+"<small><b>By "+a[c].author+"</b>"+", <i>"+a[c].created+"</i></small><br>"+"</div> <!-- .modal-header -->"+"<div class='modal-body'>"+a[c].body+"</div> <!-- .modal-body -->"+"<div class='modal-footer'>"+"<a class='btn facebook'"+"href='http://www.facebook.com/sharer.php?s=100"+"&p[title]="+a[c].title+"&p[summary]="+$.trim(a[c].body).substring(0,100).split(" ").slice(0,-1).join(" ")+"..."+"&p[url]="+"http://nicolasbrugneaux.me/posts/?id="+a[c].id+"'"+" target='_blank'>"+"<span data-icon='&#xe164;'> </span>"+" Share"+"</a>"+"<a class='btn twitter'"+"href='https://twitter.com/share"+"?url="+"http://nicolasbrugneaux.me/posts/?id="+a[c].id+"&via=nicolasbrugneaux.me"+"&text="+a[c].title+" -'"+" target='_blank'>"+"<span data-icon='&#xe169;'> </span> Tweet"+"</a>"+"<button class='btn' data-dismiss='modal' aria-hidden='true'>Close</button>"+"</div><!-- .modal-footer -->"+"</div><!-- #modal-id -->"+"<a href='#modal-"+a[c].id+"' role='button' class='btn btn-info' data-toggle='modal'>Read More \xbb</a>"+"</div> <!-- .span4 -->",b+=0==c%3||c==a.length-1?"</div><!-- .row -->":"");$("#bar .progress .bar").width("100%"),window.setTimeout(function(){if($(".blog .container").html(b),linkify(".container a.no-btn"),$("#bar .progress .bar").width("0%"),$("#btn").show(),$("#bar").hide(),""!=window.location.search)for(hu=window.location.search.substring(1),gy=hu.split("&"),c=0;c<gy.length;c++)ft=gy[c].split("="),"id"==ft[0]&&$("#modal-"+ft[1]).modal();last=a.length,$("#btn .btn").click(function(){showNextPosts(last,3)})},1e3)},error:function(){$("#bar .progress .bar").width("0%"),$("#bar .progress").addClass("progress-danger"),$(".notifications").append("<div class='alert alert-danger'><button class='close' type='button' data-dismiss='alert'>&times;</button><p>The last posts couldn't be loaded.</p></div>"),slideUpDownNotifications()}})}function showNextPosts(a,b){$("#btn .btn").attr("disabled","disabled"),$("#btn").hide(),$.ajax({url:"./database/posts.php?from="+a+"&howMany="+b,data:"",dataType:"json",success:function(a){var b="";if($.isEmptyObject(a))0==$("#notif-post").length&&(b="<div id='notif-post' class='well well-small' style='text-align:center;'><button class='close' type='button' data-dismiss='alert'>&times;</button><p>No more posts to show.</p></div>",$(".blog .loaders").prepend(b),$("#bar").hide(),$("#btn").hide());else{$("#bar").show();for(var c=0;c<a.length;c++)b+=0==c%3?"<hr><div class='row'>":"",b+="<div class='span4'><h2>"+a[c].title+"</h2>"+"<small><b>By "+a[c].author+"</b>"+", <i>"+a[c].created+"</i></small><br>"+"<div class='post'>"+$.trim(a[c].body).substring(0,100).split(" ").slice(0,-1).join(" ")+"..."+"</div>"+"<div id='modal-"+a[c].id+"'class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>"+"<div class='modal-header'>"+"<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\xd7</button>"+"<h3>"+a[c].title+"</h3>"+"<small><b>By "+a[c].author+"</b>"+", <i>"+a[c].created+"</i></small><br>"+"</div> <!-- .modal-header -->"+"<div class='modal-body'>"+a[c].body+"</div> <!-- .modal-body -->"+"<div class='modal-footer'>"+"<a class='btn facebook'"+"href='http://www.facebook.com/sharer.php?s=100"+"&p[title]="+a[c].title+"&p[summary]="+$.trim(a[c].body).substring(0,100).split(" ").slice(0,-1).join(" ")+"..."+"&p[url]="+"http://nicolasbrugneaux.me/posts/?id="+a[c].id+"'"+" target='_blank'>"+"<span data-icon='&#xe164;'> </span>"+" Share"+"</a>"+"<a class='btn twitter'"+"href='https://twitter.com/share"+"?url="+"http://nicolasbrugneaux.me/posts/?id="+a[c].id+"&via=nicolasbrugneaux.me"+"&text="+a[c].title+" -'"+" target='_blank'>"+"<span data-icon='&#xe169;'> </span> Tweet"+"</a>"+"<button class='btn' data-dismiss='modal' aria-hidden='true'>Close</button>"+"</div><!-- .modal-footer -->"+"</div><!-- #modal-id -->"+"<a href='#modal-"+a[c].id+"' role='button' class='btn btn-info' data-toggle='modal'>Read More \xbb</a>"+"</div> <!-- .span4 -->",b+=2==c%3||c==a.length-1?"</div><!-- .row -->":"";$("#bar .progress .bar").width("100%"),window.setTimeout(function(){if($(".blog .container").append(b),linkify(".container a.no-btn"),$("#btn").show(function(){$("#btn .btn").removeAttr("disabled")}),$("#bar").hide(),$("#btn").show(),$("#bar .progress .bar").width("0%"),""!=window.location.search)for(hu=window.location.search.substring(1),gy=hu.split("&"),c=0;c<gy.length;c++)ft=gy[c].split("="),"id"==ft[0]&&$("#modal-"+ft[1]).modal();last=a.length+last,$("#btn .btn").click(function(){showNextPosts(last,3)})},1e3)}},error:function(){$("#bar").show(),$("#bar .progress .bar").width("0%"),$("#bar .progress").addClass("progress-danger"),$(".notifications").append("<div class='alert alert-danger'><button class='close' type='button' data-dismiss='alert'>&times;</button><p>The last posts couldn't be loaded.</p></div>")}})}var last=0;